(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-064b63a8"],{3931:function(e,t,i){},"757d":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%"}},[n("a-layout",[n("a-layout-header",{style:{float:"left",display:"flex","flex-direction":"column",zIndex:1,width:"100%",height:"120px",background:"#0C132C"}},[n("div",{style:{display:"flex","flex-direction":"row","justify-content":"space-around","align-items":"center",zIndex:1,width:"100%",height:"100px"}},[n("a-button",{staticClass:"img-button",attrs:{type:"link"}},[e._v("重新连接")]),n("div",[n("b",{style:{"font-size":"24px",color:"#FFFFFF","font-family":"AlibabaPuHuiTi"}},[e._v("场地窗口")])]),n("div",[n("a-button",{staticClass:"img-button",attrs:{type:"link"},on:{click:e.goToMaps}},[e._v("场地模板")]),n("a-button",{staticClass:"img-button",attrs:{type:"link"}},[e._v("应用")])],1)],1),n("img",{attrs:{src:i("6499")}})]),n("a-layout-content",{style:{width:"100%",height:"100%",overflow:"hidden"},attrs:{id:"canvalArea"}},[n("dat-gui",{style:{zIndex:"2","font-size":"16px"},attrs:{closeText:"关闭面板",openText:"",closePosition:"bottom",closed:!0}},[n("dat-folder",{attrs:{label:"生成迷宫"}},[n("dat-number",{attrs:{min:3,max:100,step:1,label:"迷宫行数"},model:{value:e.config.mazeRow,callback:function(t){e.$set(e.config,"mazeRow",t)},expression:"config.mazeRow"}}),n("dat-number",{attrs:{min:3,max:100,step:1,label:"迷宫列数"},model:{value:e.config.mazeCol,callback:function(t){e.$set(e.config,"mazeCol",t)},expression:"config.mazeCol"}}),n("dat-number",{attrs:{min:3,max:100,step:1,label:"入口坐标X"},model:{value:e.config.entryX,callback:function(t){e.$set(e.config,"entryX",t)},expression:"config.entryX"}}),n("dat-number",{attrs:{min:3,max:100,step:1,label:"入口坐标Y"},model:{value:e.config.entryY,callback:function(t){e.$set(e.config,"entryY",t)},expression:"config.entryY"}}),n("dat-number",{attrs:{min:3,max:100,step:1,label:"出口坐标X"},model:{value:e.config.outX,callback:function(t){e.$set(e.config,"outX",t)},expression:"config.outX"}}),n("dat-number",{attrs:{min:3,max:100,step:1,label:"出口坐标Y"},model:{value:e.config.outY,callback:function(t){e.$set(e.config,"outY",t)},expression:"config.outY"}}),n("dat-button",{attrs:{label:"生成底座平面"},on:{click:e.createMaze1Level}}),n("dat-button",{attrs:{label:"生成随机迷宫"},on:{click:e.createMaze}})],1),n("dat-folder",{attrs:{lable:"辅助功能"}},[null!=e.gridHelper?n("dat-boolean",{attrs:{label:"2D显示"},model:{value:e.gridHelper.visible,callback:function(t){e.$set(e.gridHelper,"visible",t)},expression:"gridHelper.visible"}}):e._e(),null!=e.gridHelper?n("dat-boolean",{attrs:{label:"显示格子"},model:{value:e.gridHelper.visible,callback:function(t){e.$set(e.gridHelper,"visible",t)},expression:"gridHelper.visible"}}):e._e(),null!=e.axesHelper?n("dat-boolean",{attrs:{label:"显示坐标轴"},model:{value:e.axesHelper.visible,callback:function(t){e.$set(e.axesHelper,"visible",t)},expression:"axesHelper.visible"}}):e._e()],1),n("dat-folder",{attrs:{lable:"迷宫控制"}},[null!=e.controls?n("dat-boolean",{attrs:{label:"固定角度"},model:{value:e.controls.enabled,callback:function(t){e.$set(e.controls,"enabled",t)},expression:"controls.enabled"}}):e._e(),n("dat-number",{attrs:{min:1,max:2,step:1,label:"升降控制"},model:{value:e.levelSet,callback:function(t){e.levelSet=t},expression:"levelSet"}})],1)],1),n("canvas",{attrs:{id:"three"}})],1)],1),n("div",{staticClass:"float-button-left"},[n("a-space",{attrs:{direction:"vertical",size:"large"}},[n("a-button",{staticClass:"img-button-quara-one",attrs:{type:"link"}},[n("img",{style:{height:"40px",width:"40px"},attrs:{src:i("09ed")}})]),n("a-button",{staticClass:"img-button-quara-one",attrs:{type:"link"}},[e._v("全部"),n("br"),e._v("复位")])],1)],1),n("div",{staticClass:"float-button-right"},[n("a-space",{attrs:{direction:"vertical",size:"large"}},[n("a-button",{staticClass:"img-button-quara-zero",attrs:{type:"link"},on:{click:function(t){return e.updatelevel(1)}}},[e._v("0级")]),n("a-button",{staticClass:"img-button-quara-one",attrs:{type:"link"},on:{click:function(t){return e.updatelevel(2)}}},[e._v("1级")])],1)],1)],1)},s=[],a=i("5530"),o=i("5880"),r=i("5a89"),l=i("4721"),c=i("a570"),h=i("4ccf"),d={name:"Demo",i18n:i("fde6"),data:function(){return{pageHeaderHeight:120,config:{mazeCol:9,mazeRow:9,entryX:1,entryY:0,outX:7,outY:8,mazeUnitWidth:50,mazeUnitHeight:50,mazeUnitDepth:50,selectedColor:16763904,edgesLineColor:4473924,levelColors:[{color:156323},{color:63487},{color:16776960},{color:65280},{color:255},{color:16711935}]},camera:null,controls:null,scene:null,gridHelper:null,axesHelper:null,renderer:null,plane:null,pointer:null,raycaster:null,isShiftDown:!1,rollOverMesh:null,rollOverMaterial:null,cubeGeo:null,cubeMaterial:null,INTERSECTED:null,guiData:{col:9},objects:[],maze:null,levelSet:1,background:"#cdeecc",titleFontSize:75,title:"vue-dat-gui",showPicture:!0,pictures:[{name:"forest",value:"..."},{name:"mountain",value:"..."}],boxShadow:{offsetX:27,offsetY:27,blurRadius:75,spreadRadius:2,color:"rgba(3, 23, 6, 1)"}}},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},watch:{levelSet:function(e,t){this.opLevel(e)}},beforeDestroy:function(){},methods:{init:function(){var e=document.getElementById("canvalArea"),t=(e.offsetHeight,e.offsetWidth,document.getElementById("three"));t.offsetHeight,t.offsetWidth;this.camera=new r["PerspectiveCamera"](20,window.innerWidth/(window.innerHeight-this.pageHeaderHeight),1,1e4),this.camera.position.set(500,800,2800),this.camera.lookAt(0,0,0),this.scene=new r["Scene"],this.scene.background=new r["Color"](1304),this.gridHelper=new c["GridSimple"](600,12,4473924,8947848),this.gridHelper.visible=!1,this.scene.add(this.gridHelper),this.axesHelper=new r["AxesHelper"](650),this.axesHelper.visible=!1,this.scene.add(this.axesHelper),this.raycaster=new r["Raycaster"],this.pointer=new r["Vector2"];var i=new r["PlaneGeometry"](900,900);i.rotateX(-Math.PI/2),this.plane=new r["Mesh"](i,new r["ShadowMaterial"]({visible:!0,color:16763904,opacity:.9,transparent:!0})),this.plane.receiveShadow=!0,this.scene.add(this.plane),this.objects.push(this.plane);var n=new r["AmbientLight"](6316128);this.scene.add(n);var s=new r["SpotLight"](16777215,1,0,0);s.position.set(700,550,2500),s.angle=.2*Math.PI,s.castShadow=!0,s.shadow.camera.near=200,s.shadow.camera.far=2e3,s.shadow.bias=-222e-6,s.shadow.mapSize.width=1024,s.shadow.mapSize.height=1024,this.scene.add(s);var a=document.querySelector("#three");this.renderer=new r["WebGLRenderer"]({canvas:a,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight-this.pageHeaderHeight),this.renderer.shadowMap.enabled=!0,this.controls=new l["a"](this.camera,this.renderer.domElement),this.controls.minDistance=10,this.controls.maxDistance=5700,this.controls.target.set(300,0,300),document.addEventListener("pointermove",this.onPointerMove),document.addEventListener("pointerdown",this.onPointerDown),document.addEventListener("click",this.onClick),document.addEventListener("contextmenu",this.cancelSelected),document.addEventListener("keydown",this.onDocumentKeyDown),document.addEventListener("keyup",this.onDocumentKeyUp),window.addEventListener("resize",this.onWindowResize),this.maze=new h["a"](this.config.mazeRow,this.config.mazeCol,0,0,0),this.maze.entryX=this.config.entryX,this.maze.entryY=this.config.entryY,this.maze.outX=this.config.outX,this.maze.outY=this.config.outY,this.maze.paintMaze(),this.initMaze(this.maze.maze)},updatelevel:function(e){this.opLevel(e)},removeAllMesh:function(){for(var e=0;e<this.scene.children.length;e++)"Mesh"===this.scene.children[e].type&&"mazeCell"===this.scene.children[e].userData.type&&this.scene.remove(this.scene.children[e]);this.render()},render:function(){this.renderer.render(this.scene,this.camera)},animate:function(){requestAnimationFrame(this.animate),this.controls.update(),this.render()},onDocumentKeyUp:function(e){switch(e.keyCode){case 16:this.isShiftDown=!1;break}},onDocumentKeyDown:function(e){switch(e.keyCode){case 16:this.isShiftDown=!0;break}},onClick:function(e){this.pointer.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),this.raycaster.setFromCamera(this.pointer,this.camera);var t=this.raycaster.intersectObjects(this.objects);if(t.length>0){t[0];this.INTERSECTED!=t[0].object&&(this.INTERSECTED=t[0].object),this.INTERSECTED&&"Mesh"==this.INTERSECTED.type&&"mazeCell"==this.INTERSECTED.userData.type&&!1===this.INTERSECTED.userData.isSelected?(this.INTERSECTED.currentHex=this.INTERSECTED.material.emissive.getHex(),this.INTERSECTED.material.emissive.setHex(16777215),this.INTERSECTED.userData.isSelected=!0):this.INTERSECTED&&"Mesh"==this.INTERSECTED.type&&"mazeCell"==this.INTERSECTED.userData.type&&!0===this.INTERSECTED.userData.isSelected&&(this.INTERSECTED.material.emissive.setHex(this.INTERSECTED.currentHex),this.INTERSECTED.userData.isSelected=!1)}this.render()},onPointerMove:function(e){this.pointer.set(e.clientX/window.innerWidth*2-1,-e.clientY/window.innerHeight*2+1),this.raycaster.setFromCamera(this.pointer,this.camera);var t=this.raycaster.intersectObjects(this.objects);t.length>0?this.INTERSECTED!=t[0].object&&(this.INTERSECTED&&this.INTERSECTED.children[0]&&this.INTERSECTED.children[0].material.color.setHex(this.INTERSECTED.children[0].currentHex),this.INTERSECTED=t[0].object,this.INTERSECTED&&this.INTERSECTED.children[0]&&(this.INTERSECTED.children[0].currentHex=this.INTERSECTED.children[0].material.color.getHex(),this.INTERSECTED.children[0].material.color.setHex(16777215))):(this.INTERSECTED&&this.INTERSECTED.children[0]&&this.INTERSECTED.children[0].material.color.setHex(this.INTERSECTED.currentHex),this.INTERSECTED=null),this.render()},onWindowResize:function(){this.camera.aspect=window.innerWidth/(window.innerHeight-this.pageHeaderHeight),this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight-this.pageHeaderHeight)},goToMaps:function(){this.$router.push("maps")},initMaze:function(e){for(var t=0;t<e.length;t++)for(var i=0;i<e[t].length;i++)if(!(e[t][i]<=0)){var n=new r["BoxGeometry"](this.config.mazeUnitWidth,this.config.mazeUnitHeight,this.config.mazeUnitDepth),s=new r["EdgesGeometry"](n,1),a=new r["LineBasicMaterial"]({color:this.config.edgesLineColor}),o=new r["LineSegments"](s,a),l=new r["Mesh"](n,new r["MeshLambertMaterial"](this.config.levelColors[e[t][i]-1]));l.userData={type:"mazeCell",isSelected:!1},l.scale.set(1,e[t][i],1),l.position.set(i*this.config.mazeUnitWidth+this.config.mazeUnitWidth/2,this.config.mazeUnitHeight*e[t][i]/2,t*this.config.mazeUnitDepth+this.config.mazeUnitDepth/2),l.add(o),this.scene.add(l),this.objects.push(l)}},cancelSelected:function(){for(var e=0;e<this.scene.children.length;e++)"Mesh"==this.scene.children[e].type&&"mazeCell"==this.scene.children[e].userData.type&&this.scene.children[e].userData.isSelected&&(this.scene.children[e].material.emissive.setHex(this.INTERSECTED.currentHex),this.scene.children[e].userData.isSelected=!1,this.render())},opLevel:function(e){if(!(e<1||e>9))for(var t=0;t<this.scene.children.length;t++)if("Mesh"==this.scene.children[t].type&&"mazeCell"==this.scene.children[t].userData.type&&this.scene.children[t].userData.isSelected){this.scene.children[t];this.scene.children[t].scale.set(1,e,1),this.scene.children[t].position.set(this.scene.children[t].position.x,this.config.mazeUnitHeight*e/2,this.scene.children[t].position.z),this.scene.children[t].material.color.setHex(this.config.levelColors[e-1].color),this.render()}},createMaze1Level:function(){this.removeAllMesh();for(var e=[],t=0;t<this.config.mazeRow;t++){for(var i=[],n=0;n<this.config.mazeCol;n++)i.push(1);e.push(i)}this.initMaze(e)},createMaze:function(){this.removeAllMesh(),this.maze=new h["a"](this.config.mazeRow,this.config.mazeCol,0,5,5),this.maze.entryX=this.config.entryX,this.maze.entryY=this.config.entryY,this.maze.outX=this.config.outX,this.maze.outY=this.config.outY,this.maze.paintMaze(),this.initMaze(this.maze.maze)}},computed:Object(a["a"])(Object(a["a"])({},Object(o["mapState"])("setting",["pageMinHeight"])),{},{desc:function(){return this.$t("description")}})},u=d,m=(i("9543"),i("97d3c"),i("2877")),p=Object(m["a"])(u,n,s,!1,null,"ae2f2dac",null),f=p.exports;t["default"]=f},9543:function(e,t,i){"use strict";i("3931")},"97d3c":function(e,t,i){"use strict";i("9d85")},"9d85":function(e,t,i){},fde6:function(e,t){e.exports={messages:{CN:{content:"演示页面",description:"这是一个演示页面"},HK:{content:"演示頁面",description:"這是一個演示頁面"},US:{content:"Demo Page",description:"This is a demo page"}}}}}]);