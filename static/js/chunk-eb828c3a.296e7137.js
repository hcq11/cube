(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb828c3a"],{"0bb1":function(t,e,i){"use strict";i("bd6e")},2811:function(t,e,i){"use strict";var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box"},[i("a-card",{staticClass:"card",attrs:{title:t.titleLeft,headStyle:{"text-align":"center",color:"#FFFFFF","font-size":"168px","font-family":"YOUSHEBIAOTIHEI",background:t.headLeftBGColor}},on:{click:t.clickLeft}},[i("a",{attrs:{slot:"extra",href:"#"},slot:"extra"},[t._v(t._s(t.subtitleLeft))]),i("div",{staticClass:"cardBox"},[i("canvas",{staticStyle:{width:"100%"},attrs:{id:"canvasRTEnergy",height:"200",width:"600"}},[t._v("当前浏览器不支持canvas，请更换浏览器后再试")])])]),i("a-card",{staticClass:"card",attrs:{title:t.titleRight,headStyle:{"text-align":"center",color:"#FFFFFF","font-size":"168px","font-family":"YOUSHEBIAOTIHEI",background:t.headRightBGColor}},on:{click:t.clickRight}},[i("a",{attrs:{slot:"extra",href:"#"},slot:"extra"},[t._v(t._s(t.subtitleRight))]),i("div",{staticClass:"cardBox"},[i("canvas",{staticStyle:{width:"100%"},attrs:{id:"canvasRTCarbon",height:"200",width:"600"}},[t._v("当前浏览器不支持canvas，请更换浏览器后再试")])])])],1)},a=[],o=i("53ca"),n=(i("a9e3"),i("d3b7"),i("25f0"),i("5880"),i("d4ec")),r=i("bee2"),s=i("ade3"),c=(i("cb29"),i("ac1f"),i("1276"),i("99af"),i("a434"),[[[0,0,1,1,1,0,0],[0,1,1,0,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,0,1,1,0],[0,0,1,1,1,0,0]],[[0,0,0,1,1,0,0],[0,1,1,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[1,1,1,1,1,1,1]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,0,0,1,1],[1,1,1,1,1,1,1]],[[1,1,1,1,1,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,0,1,1,1,0],[0,0,1,1,1,1,0],[0,1,1,0,1,1,0],[1,1,0,0,1,1,0],[1,1,1,1,1,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,1,1]],[[1,1,1,1,1,1,1],[1,1,0,0,0,0,0],[1,1,0,0,0,0,0],[1,1,1,1,1,1,0],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,0,0,0,1,1,0],[0,0,1,1,0,0,0],[0,1,1,0,0,0,0],[1,1,0,0,0,0,0],[1,1,0,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[1,1,1,1,1,1,1],[1,1,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,0,0,1,1,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0],[0,0,1,1,0,0,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,1,1,0]],[[0,1,1,1,1,1,0],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[1,1,0,0,0,1,1],[0,1,1,1,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,0,1,1],[0,0,0,0,1,1,0],[0,0,0,1,1,0,0],[0,1,1,0,0,0,0]],[[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0]]]),d=function(){function t(e,i,l){Object(n["a"])(this,t),Object(s["a"])(this,"data",[]),Object(s["a"])(this,"balls",[]),Object(s["a"])(this,"MaxLen",3),Object(s["a"])(this,"balls",[]),Object(s["a"])(this,"R",1),Object(s["a"])(this,"H",200),Object(s["a"])(this,"W",450),Object(s["a"])(this,"NumColor","black"),Object(s["a"])(this,"canvas",null),Object(s["a"])(this,"canvasLabel",""),Object(s["a"])(this,"cxt",null),this.canvasLabel=e,this.NumColor=i,this.MaxLen=l}return Object(r["a"])(t,[{key:"renderDigit",value:function(t,e){for(var i=0;i<c[e].length;i++)for(var l=0;l<c[e][i].length;l++)1===c[e][i][l]&&(this.cxt.beginPath(),this.cxt.arc(14*(this.R+2)*t+2*l*(this.R+1)+(this.R+1),2*i*(this.R+1)+(this.R+1),this.R,0,2*Math.PI),this.cxt.fillStyle=this.NumColor,this.cxt.closePath(),this.cxt.fill())}},{key:"updateDigit",value:function(t){if(!(t.length>this.MaxLen)){for(var e=[],i=[],l=t.split(""),a=0;a<l.length&&a<this.MaxLen;a++)i.push(l[a]);for(var o=this.data.length-1;o>=0;o--)i[o]!==this.data[o]&&e.push(o+"_"+(Number(this.data[o])+1)%10);for(var n=0;n<e.length;n++)this.addBalls.apply(this,e[n].split("_"));this.data=i.concat()}}},{key:"updateDigitWithColor",value:function(t,e){if(!(t.length>this.MaxLen)){for(var i=[],l=[],a=t.split(""),o=0;o<a.length&&o<this.MaxLen;o++)l.push(a[o]);for(var n=this.data.length-1;n>=0;n--)l[n]!==this.data[n]&&i.push(n+"_"+(Number(this.data[n])+1)%10+"_"+e);for(var r=0;r<i.length;r++)this.addBallsWithColor.apply(this,i[r].split("_"));this.data=l.concat()}}},{key:"updateBalls",value:function(){for(var t=0;t<this.balls.length;t++)this.balls[t].stepY+=this.balls[t].disY,this.balls[t].x+=this.balls[t].stepX,this.balls[t].y+=this.balls[t].stepY,(this.balls[t].x>this.W+this.R||this.balls[t].y>this.H+this.R)&&(this.balls.splice(t,1),t--)}},{key:"addBalls",value:function(t,e){for(var i=[1,2,3],l=["#3BE","#09C","#A6C","#93C","#9C0","#690","#FB3","#F80","#F44","#C00"],a=0;a<c[e].length;a++)for(var o=0;o<c[e][a].length;o++)if(1==c[e][a][o]){var n={x:14*(this.R+2)*t+2*o*(this.R+1)+(this.R+1),y:2*a*(this.R+1)+(this.R+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*i[Math.floor(Math.random()*i.length)],color:l[Math.floor(Math.random()*l.length)],disY:1};this.balls.push(n)}}},{key:"addBallsWithColor",value:function(t,e,i){for(var l=[1,2,3],a=0;a<c[e].length;a++)for(var o=0;o<c[e][a].length;o++)if(1==c[e][a][o]){var n={x:14*(this.R+2)*t+2*o*(this.R+1)+(this.R+1),y:2*a*(this.R+1)+(this.R+1),stepX:Math.floor(4*Math.random()-2),stepY:-2*l[Math.floor(Math.random()*l.length)],color:i,disY:1};this.balls.push(n)}}},{key:"render",value:function(){this.canvas.height=this.H;for(var t=0;t<this.data.length;t++)this.renderDigit(t,this.data[t]);for(var e=0;e<this.balls.length;e++)this.cxt.beginPath(),this.cxt.arc(this.balls[e].x,this.balls[e].y,this.R,0,2*Math.PI),this.cxt.fillStyle=this.balls[e].color,this.cxt.closePath(),this.cxt.fill()}},{key:"beginRender",value:function(){var t=this;if(this.canvas=document.getElementById(this.canvasLabel),null!=this.canvas&&this.canvas.getContext){this.cxt=this.canvas.getContext("2d"),this.canvas.height=this.H;for(var e=0;e<this.MaxLen;e++)this.data.push(0);clearInterval(i);var i=setInterval((function(){t.R=t.canvas.height/20-1,t.updateBalls(),t.render()}),20)}}}]),t}(),h={name:"Scoreboard",props:{titleLeft:{type:String,default:"能量值"},subtitleLeft:{type:String,default:""},titleRight:{type:String,default:"碳排放"},subtitleRight:{type:String,default:""},headLeftBGColor:{type:String,default:"red"},headRightBGColor:{type:String,default:"red"},scoreLeft:{default:"0"},scoreRight:{default:"0"},ballsColor:{type:String,default:""},enableVoice:{type:Boolean,default:!1},count:{type:Number,default:0}},data:function(){return{leftObj:null,rightObj:null,audioOjb:null}},watch:{count:function(t){this.enableVoice&&this.audioOjb.play()},scoreLeft:function(t){var e=t;Object(o["a"])(t)===Number&&(e=String(t)),""!==this.ballsColor?this.leftObj.updateDigitWithColor(this.formatNum(e),this.ballsColor):this.leftObj.updateDigit(this.formatNum(e))},scoreRight:function(t){var e=t;Object(o["a"])(t)===Number&&(e=String(t)),""!==this.ballsColor?this.rightObj.updateDigitWithColor(this.formatNum(e),this.ballsColor):this.rightObj.updateDigit(this.formatNum(e))}},methods:{clickLeft:function(){this.$emit("clickLeft"),this.audioOjb.play()},clickRight:function(){this.$emit("clickRight")},formatNum:function(t){var e="0";return t<100&&t>=10?e+=t:e=t<10?"00"+t:t.toString(),e}},mounted:function(){this.leftObj=new d("canvasRTEnergy","black",3),this.leftObj.beginRender(),this.rightObj=new d("canvasRTCarbon","black",3),this.rightObj.beginRender()},created:function(){}},u=h,f=(i("0bb1"),i("2877")),b=Object(f["a"])(u,l,a,!1,null,"370713a7",null);e["a"]=b.exports},"315f":function(t,e,i){"use strict";i.r(e);var l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"scores",staticStyle:{height:"100%"}},[i("score-board",{attrs:{scoreLeft:t.blueTeamEnergy,scoreRight:t.blueTeamCarbon,headLeftBGColor:"blue",headRightBGColor:"blue",ballsColor:t.ballColor,enableVoice:!0,count:t.count},on:{clickLeft:t.click}})],1)},a=[],o=i("5530"),n=i("2811"),r=i("5880"),s=i("b775"),c=i("9992");function d(t,e){var i=t+"/api/maze/v0/layout",l={type:c["b"],data:e};return Object(s["d"])(i,s["a"].POST,l)}var h=i("3576"),u={components:{"score-board":n["a"]},data:function(){return{}},computed:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(r["mapState"])("score",["blueTeamEnergy","blueTeamCarbon","ballColor","count"])),Object(r["mapState"])("setting",["mazeConfig"])),{},{transPi:function(){var t=this.blueTeamEnergy-this.blueTeamCarbon;return t}}),watch:{transPi:function(t){t>=10&&t<=11&&d(this.mazeConfig.cpomsUrl,h)}},methods:Object(o["a"])(Object(o["a"])({},Object(r["mapMutations"])("score",["setBlueTeamEnergy"])),{},{click:function(){var t=this.blueTeamEnergy+2;this.setBlueTeamEnergy(t)}})},f=u,b=i("2877"),v=Object(b["a"])(f,l,a,!1,null,"eae37840",null);e["default"]=v.exports},3576:function(t){t.exports=JSON.parse('{"layout":{"cols":6,"rows":9},"cells":[{"type":0,"level":1,"id":"","index":{"col":0,"row":0}},{"type":0,"level":0,"id":"","index":{"col":1,"row":0}},{"type":0,"level":0,"id":"","index":{"col":2,"row":0}},{"type":0,"level":0,"id":"","index":{"col":3,"row":0}},{"type":0,"level":0,"id":"","index":{"col":4,"row":0}},{"type":0,"level":1,"id":"","index":{"col":5,"row":0}},{"type":0,"level":0,"id":"","index":{"col":0,"row":1}},{"type":0,"level":1,"id":"","index":{"col":1,"row":1}},{"type":0,"level":0,"id":"","index":{"col":2,"row":1}},{"type":0,"level":0,"id":"","index":{"col":3,"row":1}},{"type":0,"level":0,"id":"","index":{"col":4,"row":1}},{"type":0,"level":1,"id":"","index":{"col":5,"row":1}},{"type":0,"level":0,"id":"","index":{"col":0,"row":2}},{"type":0,"level":0,"id":"","index":{"col":1,"row":2}},{"type":0,"level":1,"id":"","index":{"col":2,"row":2}},{"type":0,"level":0,"id":"","index":{"col":3,"row":2}},{"type":0,"level":0,"id":"","index":{"col":4,"row":2}},{"type":0,"level":1,"id":"","index":{"col":5,"row":2}},{"type":0,"level":0,"id":"","index":{"col":0,"row":3}},{"type":0,"level":0,"id":"","index":{"col":1,"row":3}},{"type":0,"level":0,"id":"","index":{"col":2,"row":3}},{"type":0,"level":1,"id":"","index":{"col":3,"row":3}},{"type":0,"level":1,"id":"","index":{"col":4,"row":3}},{"type":0,"level":1,"id":"","index":{"col":5,"row":3}},{"type":0,"level":0,"id":"","index":{"col":0,"row":4}},{"type":0,"level":0,"id":"","index":{"col":1,"row":4}},{"type":0,"level":0,"id":"","index":{"col":2,"row":4}},{"type":0,"level":0,"id":"","index":{"col":3,"row":4}},{"type":0,"level":0,"id":"","index":{"col":4,"row":4}},{"type":0,"level":1,"id":"","index":{"col":5,"row":4}},{"type":0,"level":0,"id":"","index":{"col":0,"row":5}},{"type":0,"level":0,"id":"","index":{"col":1,"row":5}},{"type":0,"level":0,"id":"","index":{"col":2,"row":5}},{"type":0,"level":0,"id":"","index":{"col":3,"row":5}},{"type":0,"level":0,"id":"","index":{"col":4,"row":5}},{"type":0,"level":1,"id":"","index":{"col":5,"row":5}},{"type":0,"level":1,"id":"","index":{"col":0,"row":6}},{"type":0,"level":1,"id":"","index":{"col":1,"row":6}},{"type":0,"level":1,"id":"","index":{"col":2,"row":6}},{"type":0,"level":1,"id":"","index":{"col":3,"row":6}},{"type":0,"level":0,"id":"","index":{"col":4,"row":6}},{"type":0,"level":1,"id":"","index":{"col":5,"row":6}},{"type":0,"level":1,"id":"","index":{"col":0,"row":7}},{"type":0,"level":0,"id":"","index":{"col":1,"row":7}},{"type":0,"level":0,"id":"","index":{"col":2,"row":7}},{"type":0,"level":0,"id":"","index":{"col":3,"row":7}},{"type":0,"level":0,"id":"","index":{"col":4,"row":7}},{"type":0,"level":1,"id":"","index":{"col":5,"row":7}},{"type":0,"level":1,"id":"","index":{"col":0,"row":8}},{"type":0,"level":0,"id":"","index":{"col":1,"row":8}},{"type":0,"level":0,"id":"","index":{"col":2,"row":8}},{"type":0,"level":0,"id":"","index":{"col":3,"row":8}},{"type":0,"level":0,"id":"","index":{"col":4,"row":8}},{"type":0,"level":1,"id":"","index":{"col":5,"row":8}}]}')},"81d5":function(t,e,i){"use strict";var l=i("7b0b"),a=i("23cb"),o=i("50c4");t.exports=function(t){var e=l(this),i=o(e.length),n=arguments.length,r=a(n>1?arguments[1]:void 0,i),s=n>2?arguments[2]:void 0,c=void 0===s?i:a(s,i);while(c>r)e[r++]=t;return e}},9992:function(t,e,i){"use strict";i.d(e,"c",(function(){return l})),i.d(e,"a",(function(){return a})),i.d(e,"e",(function(){return o})),i.d(e,"d",(function(){return n})),i.d(e,"b",(function(){return r}));var l=-1,a=0,o=1,n=1,r=2},bd6e:function(t,e,i){},bee2:function(t,e,i){"use strict";function l(t,e){for(var i=0;i<e.length;i++){var l=e[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function a(t,e,i){return e&&l(t.prototype,e),i&&l(t,i),t}i.d(e,"a",(function(){return a}))},cb29:function(t,e,i){var l=i("23e7"),a=i("81d5"),o=i("44d2");l({target:"Array",proto:!0},{fill:a}),o("fill")},d4ec:function(t,e,i){"use strict";function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}i.d(e,"a",(function(){return l}))}}]);